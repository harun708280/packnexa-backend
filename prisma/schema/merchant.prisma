model MerchantDetails {
  id          String  @id @default(uuid())
  userId      String  @unique
  isSubmitted Boolean @default(false)
  isVerified  Boolean @default(false)

  personalDetails PersonalDetails?
  businessDetails BusinessDetails?
  documents       Documents?
  payments        Payments[]
  products        Product[]

  user User @relation(fields: [userId], references: [id])

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model PersonalDetails {
  id                     String          @id @default(uuid())
  merchantDetailsId      String          @unique
  gender                 Gender
  dateOfBirth            DateTime?
  secondaryContactNumber String?
  profilePhoto           String?
  isProfilePhotoVerified Boolean         @default(false)
  location               String?
  isVerifiedPhaseOne     Boolean         @default(false)
  merchantDetails        MerchantDetails @relation(fields: [merchantDetailsId], references: [id])
  createdAt              DateTime        @default(now())
  updatedAt              DateTime        @updatedAt
}

model BusinessDetails {
  id                String @id @default(uuid())
  merchantDetailsId String @unique

  businessName       String
  businessLogo       String?
  businessType       String
  facebookPageLink   String?
  websiteLink        String?
  dailyOrderEstimate Int?
  storageSpace       String?
  courierPartner     String?
  paymentMethods     String?
  pickupHub          String?
  bio                String?
  businessLocation   String

  isBusinessLogoVerified Boolean @default(false)
  isVerifiedPhaseTwo     Boolean @default(false)
  subscriptionType       String?

  merchantDetails MerchantDetails @relation(fields: [merchantDetailsId], references: [id])

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Documents {
  id                String @id @default(uuid())
  merchantDetailsId String @unique

  nidFront             String
  nidBack              String
  passport             String?
  drivingLicense       String?
  tradeLicense         String?
  tinCertificate       String?
  binCertificate       String?
  bankDocuments        String?
  status               DocumentStatus  @default(PENDING)
  reviewReason         String?
  isVerifiedPhaseThree Boolean         @default(false)
  merchantDetails      MerchantDetails @relation(fields: [merchantDetailsId], references: [id])
  createdAt            DateTime        @default(now())
  updatedAt            DateTime        @updatedAt
}

model Payments {
  id                  String          @id @default(uuid())
  merchantDetailsId   String          @unique
  status              PaymentStatus?  @default(PENDING)
  usedMethod          String
  paymentNumber       String
  bankDetails         String
  isVerifiedPhaseFour Boolean         @default(false)
  merchantDetails     MerchantDetails @relation(fields: [merchantDetailsId], references: [id])
  createdAt           DateTime        @default(now())
}

// model Product {
//   id          String        @id @default(uuid())
//   merchantId  String
//   name        String
//   sku         String        @unique
//   description String
//   price       Float
//   quantity    Int
//   status      ProductStatus @default(PENDING)
//   createdAt   DateTime      @default(now())
//   updatedAt   DateTime      @updatedAt

//   // merchant      MerchantProfile @relation(fields: [merchantId], references: [id])
//   warehouseLogs     WarehouseLog[]
//   // merchantProfile   MerchantProfile? @relation(fields: [merchantProfileId], references: [id])
//   merchantProfileId String?
// }

// model WarehouseLog {
//   id        String   @id @default(uuid())
//   productId String
//   action    String
//   quantity  Int
//   location  String?
//   createdAt DateTime @default(now())

//   product Product @relation(fields: [productId], references: [id])
// }
