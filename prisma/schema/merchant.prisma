model MerchantDetails {
  id                String             @id @default(uuid())
  userId            String             @unique
  isSubmitted       Boolean            @default(false)
  isVerified        Boolean            @default(false)
  createdAt         DateTime           @default(now())
  updatedAt         DateTime           @updatedAt
  businessDetails   BusinessDetails?
  documents         Documents?
  user              User               @relation(fields: [userId], references: [id])
  payments          Payments?
  personalDetails   PersonalDetails?
  externalOrderLogs ExternalOrderLog[]
  orders            Order[]
  products          Product[]
}

model PersonalDetails {
  id                     String          @id @default(uuid())
  merchantDetailsId      String          @unique
  gender                 Gender
  dateOfBirth            DateTime?
  secondaryContactNumber String?
  profilePhoto           String?
  isProfilePhotoVerified Boolean         @default(false)
  location               String?
  isVerifiedPhaseOne     Boolean         @default(false)
  createdAt              DateTime        @default(now())
  updatedAt              DateTime        @updatedAt
  merchantDetails        MerchantDetails @relation(fields: [merchantDetailsId], references: [id])
}

model BusinessDetails {
  id                     String          @id @default(uuid())
  merchantDetailsId      String          @unique
  businessName           String
  businessLogo           String?
  businessType           String
  facebookPageLink       String?
  websiteLink            String?
  dailyOrderEstimate     Int?
  storageSpace           String?
  courierPartner         String?
  paymentMethods         String?
  pickupHub              String?
  bio                    String?
  businessLocation       String
  isBusinessLogoVerified Boolean         @default(false)
  isVerifiedPhaseTwo     Boolean         @default(false)
  subscriptionType       String?
  createdAt              DateTime        @default(now())
  updatedAt              DateTime        @updatedAt
  merchantDetails        MerchantDetails @relation(fields: [merchantDetailsId], references: [id])
}

model Documents {
  id                   String          @id @default(uuid())
  merchantDetailsId    String          @unique
  nidFront             String
  nidBack              String
  passport             String?
  drivingLicense       String?
  tradeLicense         String?
  tinCertificate       String?
  binCertificate       String?
  bankDocuments        String?
  status               DocumentStatus  @default(PENDING)
  reviewReason         String?
  isVerifiedPhaseThree Boolean         @default(false)
  createdAt            DateTime        @default(now())
  updatedAt            DateTime        @updatedAt
  merchantDetails      MerchantDetails @relation(fields: [merchantDetailsId], references: [id])
}

model Payments {
  id                  String          @id @default(uuid())
  merchantDetailsId   String          @unique
  status              PaymentStatus?  @default(PENDING)
  usedMethod          String
  paymentNumber       String
  bankDetails         String
  isVerifiedPhaseFour Boolean         @default(false)
  createdAt           DateTime        @default(now())
  merchantDetails     MerchantDetails @relation(fields: [merchantDetailsId], references: [id])
}
